<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI –ê—Å–∏—Å—Ç–µ–Ω—Ç –∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç –≤ –†—É—Å–µ</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Leaflet CSS/JS –∑–∞ –∫–∞—Ä—Ç–∞ -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="badge">–î–µ–º–æ ‚Ä¢ –†—É—Å–µ</div>
      <h1>AI –ê—Å–∏—Å—Ç–µ–Ω—Ç –∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç –≤ –†—É—Å–µ üõ°Ô∏è</h1>
      <p class="subtitle">
        –û–ø–∏—à–µ—Ç–µ –ø—Ä–æ–±–ª–µ–º–∞, –∏–∑–±–µ—Ä–µ—Ç–µ –ª–æ–∫–∞—Ü–∏—è –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞ –∏ –ø–æ–ª—É—á–µ—Ç–µ –≥–æ—Ç–æ–≤ –æ—Ñ–∏—Ü–∏–∞–ª–µ–Ω —Å–∏–≥–Ω–∞–ª.
      </p>

      <ol class="steps">
        <li><span>1</span> –û–ø–∏—à–µ—Ç–µ –ø—Ä–æ–±–ª–µ–º–∞</li>
        <li><span>2</span> –ú–∞—Ä–∫–∏—Ä–∞–π—Ç–µ –ª–æ–∫–∞—Ü–∏—è—Ç–∞</li>
        <li><span>3</span> –ì–µ–Ω–µ—Ä–∏—Ä–∞–π—Ç–µ —Å–∏–≥–Ω–∞–ª</li>
      </ol>
    </header>

    <main class="app-main">
      <div class="layout-two-column">
        <!-- –§–æ—Ä–º–∞ -->
        <section class="card card--primary">
          <h2 class="card-title">–î–µ—Ç–∞–π–ª–∏ –∑–∞ –ø—Ä–æ–±–ª–µ–º–∞</h2>

          <div class="field-group">
            <label for="problem">–û–ø–∏—à–µ—Ç–µ –ø—Ä–æ–±–ª–µ–º–∞</label>
            <p class="field-hint">–ü—Ä–∏–º–µ—Ä: ‚Äû–¢—ä–º–Ω–æ –µ –¥–æ —É—á–∏–ª–∏—â–µ X‚Äú –∏–ª–∏ ‚Äû–†–∞–∑–±–∏—Ç–∞ –Ω–∞—Å—Ç–∏–ª–∫–∞ –Ω–∞ —É–ª. Y‚Äú.</p>
            <textarea
              id="problem"
              placeholder="–û–ø–∏—à–µ—Ç–µ –∫—Ä–∞—Ç–∫–æ, —è—Å–Ω–æ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ..."
              rows="5"
            ></textarea>
          </div>

          <div class="field-group">
            <label for="address">–ê–¥—Ä–µ—Å / –∫–≤–∞—Ä—Ç–∞–ª (–ø–æ –∂–µ–ª–∞–Ω–∏–µ)</label>
            <div class="row">
              <div class="col">
                <input
                  id="address"
                  type="text"
                  placeholder="–∂.–∫. –Ø–ª—Ç–∞, –†—É—Å–µ –∏–ª–∏ —É–ª. –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤—Å–∫–∞ 10"
                />
              </div>
              <div class="col col--buttons">
                <button id="geocodeBtn" class="btn btn-secondary">–ù–∞–º–µ—Ä–∏ –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞</button>
                <button id="useCenterBtn" class="btn btn-ghost">–ü–∏–Ω –≤ —Ü–µ–Ω—Ç—ä—Ä–∞</button>
              </div>
            </div>
          </div>

          <div class="field-group">
            <label>–õ–æ–∫–∞—Ü–∏—è –Ω–∞ –∫–∞—Ä—Ç–∞—Ç–∞</label>
            <p class="field-hint">
              –ü—Ä–µ–º–µ—Å—Ç–µ—Ç–µ –º–∞—Ä–∫–µ—Ä–∞ –¥–æ —Ç–æ—á–Ω–∞—Ç–∞ –ª–æ–∫–∞—Ü–∏—è. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ —â–µ —Å–µ –ø–æ–ø—ä–ª–Ω—è—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.
            </p>
            <div id="map" class="map"></div>
          </div>

          <div class="actions">
            <!-- ‚õîÔ∏è FIX: removed inline onclick -->
            <button id="generateBtn" class="btn btn-primary">
              –ì–µ–Ω–µ—Ä–∏—Ä–∞–π —Å–∏–≥–Ω–∞–ª —Å AI
            </button>
          </div>

          <p class="disclaimer">
            ‚ö†Ô∏è –î–∞–Ω–Ω–∏—Ç–µ —Å–∞ –ø—Ä–∏–º–µ—Ä–Ω–∏ –∏ –Ω–µ —Å–µ –∏–∑–ø—Ä–∞—â–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ –û–±—â–∏–Ω–∞ –†—É—Å–µ.
          </p>
        </section>

        <!-- –†–µ–∑—É–ª—Ç–∞—Ç -->
        <section class="card card--secondary">
          <h2 class="card-title">–†–µ–∑—É–ª—Ç–∞—Ç –æ—Ç AI</h2>

          <div class="result-row">
            <div class="result-pill">
              <span class="result-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</span>
              <p id="category" class="result-value">‚Äî</p>
            </div>
            <div class="result-pill">
              <span class="result-label">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏</span>
              <p id="coords" class="result-value">‚Äî</p>
            </div>
          </div>

          <div class="field-group">
            <label>‚Äû–ì–æ—Ç–æ–≤ —Å–∏–≥–Ω–∞–ª‚Äú</label>
            <p class="field-hint">
              –ú–æ–∂–µ—Ç–µ –¥–∞ –∫–æ–ø–∏—Ä–∞—Ç–µ —Ç–µ–∫—Å—Ç–∞ –∏ –¥–∞ –≥–æ –∏–∑–ø—Ä–∞—Ç–∏—Ç–µ –ø—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∏—Ç–µ –∫–∞–Ω–∞–ª–∏ –Ω–∞ –û–±—â–∏–Ω–∞ –†—É—Å–µ.
            </p>
            <div id="signal" class="signal"></div>
          </div>

          <div class="result-actions">
            <button id="copySignalBtn" class="btn btn-outline">
              –ö–æ–ø–∏—Ä–∞–π —Ç–µ–∫—Å—Ç–∞
            </button>
          </div>
        </section>
      </div>
    </main>

    <footer class="app-footer">
      <small>–î–µ–º–æ –∑–∞ —Ö–∞–∫–∞—Ç–æ–Ω TBST 2025 ‚Ä¢ AI + Leaflet + OpenStreetMap + Groq</small>
    </footer>

    <!-- Toast –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="toast-container"></div>
  </div>

  <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ª–æ–≥–∏–∫–∞ -->
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>
</html>
